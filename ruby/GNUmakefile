##############################################################################
SCRIPTS = $(shell ls *.rb | grep -v test_)

##############################################################################
.PHONEY: all test clean
all test clean:
	@ :

##############################################################################
define TEST_SCRIPT
.PHONEY: test_$(1)
test: test_$(1)
test_$(1):
	ruby test_$(1).rb
endef

##############################################################################
$(foreach s,$(SCRIPTS),$(eval $(call TEST_SCRIPT,$(s:.rb=))))

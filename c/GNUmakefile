##############################################################################
FILES = $(wildcard *.c)
OBJS  = $(FILES:.c=.o)
APPS  = $(FILES:.c=)

##############################################################################
CFLAGS = -Wall

##############################################################################
.PHONEY: all
all: $(APPS)
	@ :

##############################################################################
.PHONEY: test
test: all
	@ :

##############################################################################
.PHONEY: clean
clean:
	rm -f $(APPS) $(OBJS)

##############################################################################
define BUILD_APP
$1: $(1).o
	$(CC) -o $$@ $$<
endef

##############################################################################
$(foreach a,$(APPS),$(eval $(call BUILD_APP,$(a))))
